<!DOCTYPE html>
<html>
    <head>
        <style>
            html, body {
                width: 100%;
                height: 100%;
                margin: 0;
				padding: 0;
				border: none;
				background-color: white;
            }

			table {
				table-layout: fixed;
			}

			#board {
				width: 90%;
				height: 90%;
				margin: auto;
				float: left;
			}
            
            td {
                position: relative;
                
                border: 1px solid black;
                
                font-size: 70%;
            }
            
            td div {
                position: absolute;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                
                text-align: right;
                font-size: 50%;
            }
            
            td:nth-child(3n) {
                border-right-width: 2px;
            }
            
            td:nth-child(3n - 2) {
                border-left-width: 2px;
            }
            
            tr:nth-child(3n) td {
                border-bottom-width: 2px;
            }
            
            tr:nth-child(3n - 2) td {
                border-top-width: 2px;
            }
        </style>
    </head>
    
    <body>
        <table id="board" cellspacing="0"></table>
        
        <script>
            class Table {
                constructor(node, width, height, callback) {
                    this.table = node;
                    this.rows = height;
                    this.cols = width;
                    
                    for (let i = 0; i < this.rows; ++i) {
                        const tr = this.table.appendChild(document.createElement("tr"));
                        for (let j = 0; j < this.cols; ++j) {
                            let td = tr.appendChild(document.createElement("td"));
                            callback(td, i, j);
                        }
                    }
                }
                
                static loop(table, callback) {
                    const rows = table.children.length;
                    const cols = table.children[0].children.length;
                    for (let i = 0; i < rows; ++i) {
                        for (let j = 0; j < cols; ++j) {
                            callback(table.children[i].children[j], i, j);
                        }
                    }
                }
            }

			function equalizeDimensions(node) {
				if (getComputedStyle(node).width < getComputedStyle(node).height) {
					node.style.height = getComputedStyle(node).width;
				}
				else {
					node.style.width = getComputedStyle(node).height;
				}
			}
            
            const board = new Table(
				document.getElementById("board"),
				9, 9,
				function createBoard(td) {
					const div = document.createElement("div");
					td.appendChild(div);
					div.onclick = function selectCell(event) {
						event.preventDefault();
						const board = td.parentElement.parentElement;
						Table.loop(
							board,
							function removeHighlight(td) {
								td.style.borderColor = "black";
							}
						);
						td.borderColor = "blue";
					};
				}
			);
			equalizeDimensions(board.table);
			board.table.children[0].children[0].children[0].click();
        </script>
    </body>
</html>
